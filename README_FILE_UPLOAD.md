# File Upload Feature for Chatbot

## üöÄ **–û–ø–∏—Å–∞–Ω–∏–µ**
–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ —á–∞—Ç–±–æ—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Express + Multer —Å–µ—Ä–≤–µ—Ä–∞.

## üìã **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É üìé
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≥—Ä—É–∑–∫–∏ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ (–º–∞–∫—Å 100MB)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 3D –º–æ–¥–µ–ª–µ–π (STL, OBJ, DAE)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (PNG, JPG, JPEG)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Ä—Ö–∏–≤–æ–≤ (ZIP, TAR, 7Z, RAR)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ —á–∞—Ç–µ
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±–æ—Ç–∞ –æ –∑–∞–≥—Ä—É–∑–∫–µ

## üõ† **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫**

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pnpm install
```

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
```bash
pnpm run dev:full
```

### 3. –ò–ª–∏ –∑–∞–ø—É—Å–∫ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å–∫ Express —Å–µ—Ä–≤–µ—Ä–∞
pnpm run server

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ó–∞–ø—É—Å–∫ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pnpm run dev
```

## üìÅ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**
```
‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îú‚îÄ‚îÄ server.js          # Express —Å–µ—Ä–≤–µ—Ä —Å Multer
‚îÇ   ‚îî‚îÄ‚îÄ uploads/           # –ü–∞–ø–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fileUpload.ts  # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ       ‚îî‚îÄ‚îÄ chat/
‚îÇ           ‚îî‚îÄ‚îÄ ChatDialog.tsx  # –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–∞—Ç–∞
```

## üîß **API Endpoints**

### POST `/api/upload`
–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- **Content-Type**: `multipart/form-data`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä**: `file` - —Ñ–∞–π–ª –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –º–∞–∫—Å 10MB, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "success": true,
  "message": "–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω",
  "file": {
    "originalName": "document.pdf",
    "filename": "document-1234567890.pdf",
    "size": 2048576,
    "mimetype": "application/pdf",
    "url": "/uploads/document-1234567890.pdf",
    "path": "server/uploads/document-1234567890.pdf"
  }
}
```

### GET `/uploads/:filename`
–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

### GET `/api/health`
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞

## üéØ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

1. **–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç** - –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É —á–∞—Ç–∞
2. **–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª** - –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É üìé –∏ –≤—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
3. **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª** - –Ω–∞–∂–∞—Ç—å "–ó–∞–≥—Ä—É–∑–∏—Ç—å" –≤ –ø—Ä–µ–≤—å—é
4. **–ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
5. **–ü–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** - –±–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç —É—Å–ø–µ—à–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É

## üìã **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤**
- **3D –º–æ–¥–µ–ª–∏**: `.stl`, `.obj`, `.dae`
- **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**: `.png`, `.jpg`, `.jpeg`
- **–ê—Ä—Ö–∏–≤—ã**: `.zip`, `.tar`, `.7z`, `.rar`

## ‚öôÔ∏è **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
```javascript
const limits = {
  fileSize: 100 * 1024 * 1024, // 100MB
};
```

### –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤
```javascript
const allowedTypes = [
  // –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  'image/jpeg', 'image/jpg', 'image/png',
  // 3D –º–æ–¥–µ–ª–∏
  'model/stl', 'application/sla', 'model/obj', 'application/x-tgif',
  // –ê—Ä—Ö–∏–≤—ã
  'application/zip', 'application/x-zip-compressed',
  'application/x-tar', 'application/x-7z-compressed',
  'application/x-rar-compressed', 'application/octet-stream'
];

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
const allowedExtensions = ['.stl', '.obj', '.dae', '.zip', '.tar', '.7z', '.rar', '.png', '.jpg', '.jpeg'];
```

## üîç **–û—Ç–ª–∞–¥–∫–∞**

### –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
–°–µ—Ä–≤–µ—Ä –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏ –æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö:
```
üöÄ Server running on http://localhost:3001
üìÅ Uploads directory: /path/to/uploads
–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω: document.pdf
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API
```bash
curl http://localhost:3001/api/health
```

## üöÄ **–ü—Ä–æ–¥–∞–∫—à–Ω**

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (AWS S3, Cloudinary)
3. –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –¥–ª—è –¥–æ–º–µ–Ω–∞

## üìû **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**
–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001
- ‚úÖ –ü–∞–ø–∫–∞ `server/uploads` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –§–∞–π–ª –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 100MB
- ‚úÖ –¢–∏–ø —Ñ–∞–π–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è